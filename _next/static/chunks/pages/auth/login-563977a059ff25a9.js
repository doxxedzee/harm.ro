!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="35453add-3ea2-4dc4-bd9f-a316ff04ea1a",e._sentryDebugIdIdentifier="sentry-dbid-35453add-3ea2-4dc4-bd9f-a316ff04ea1a")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{40163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(14805)}])},99606:function(e,t,n){"use strict";var s=n(85893),a=n(23432),l=n(67294);t.Z=(0,l.forwardRef)(function(e,t){let{children:n,color:l="primary",className:r,type:i="button",icon:o,loading:c,...u}=e;return c?(0,s.jsxs)("button",{type:i,className:"btn btn-".concat(l," flex justify-center gap-2 ").concat(r),ref:t,...u,disabled:!0,children:[(0,s.jsx)("div",{className:"btn-icon animate-spin",children:(0,s.jsx)(a.Z,{})}),n]}):(0,s.jsxs)("button",{type:i,className:"btn btn-".concat(l," ").concat(r),ref:t,...u,children:[o&&(0,s.jsx)("div",{className:"btn-icon",children:o}),n]})})},81617:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(85893),a=n(98388);function l(e){let{type:t,placeholder:n,className:l="",...r}=e;return(0,s.jsx)("input",{type:t||"text",placeholder:n,className:(0,a.m6)("form-input",l),...r})}},80599:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var s=n(85893),a=n(83253),l=n.n(a),r=n(62190),i=n(66461),o=n.n(i);function c(e){let{open:t,onClose:n,title:a,children:i,style:c}=e;return(0,s.jsxs)(l(),{isOpen:t,preventScroll:!0,shouldFocusAfterRender:!0,onRequestClose:n,contentLabel:a,overlayClassName:o().overlay,className:o().content,style:c,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,overlayElement:(e,t)=>{var n,a;let l=[o().overlay];return(null===(n=e.className)||void 0===n?void 0:n.includes("after-open"))&&l.push(o().afterOpen),(null===(a=e.className)||void 0===a?void 0:a.includes("before-close"))&&l.push(o().beforeClose),(0,s.jsx)("div",{...e,className:l.join(" "),children:t})},closeTimeoutMS:100,children:[(0,s.jsxs)("header",{className:"mb-4 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"modal-title",children:a}),(0,s.jsx)("button",{onClick:n,children:(0,s.jsx)(r.Z,{})})]}),i]})}n(67294),l().setAppElement("#__next")},23200:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var s=n(85893),a=n(67294),l=n(81617),r=n(15928),i=n(43832),o=n(52697),c=n(14640);function u(e){let{placeholder:t,className:n,...u}=e,[d,h]=(0,a.useState)(!1),f=(0,c.useTranslations)();return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.Z,{type:d?"text":"password",placeholder:t||f("Password.Title"),className:n,...u,minLength:8,"aria-label":t||f("Password.Title")}),(0,s.jsx)(o.ZP,{content:f(d?"Password.Hide":"Password.Show"),arrow:!1,children:(0,s.jsx)("button",{type:"button",className:"absolute inset-y-0 ltr:right-2 rtl:left-2",onClick:()=>h(!d),"aria-label":f(d?"Password.Hide":"Password.Show"),children:d?(0,s.jsx)(r.Z,{}):(0,s.jsx)(i.Z,{})})})]})}},9315:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var s=n(85893),a=n(6166),l=n.n(a),r=n(40645),i=n.n(r),o=n(9008),c=n.n(o),u=n(89003),d=n(25675),h=n.n(d),f=n(41664),m=n.n(f);function x(e){let{children:t}=e;return(0,s.jsxs)("div",{className:i().dynamic([["85b64a0ec41b8e79",[l().style.fontFamily]]])+" flex h-screen items-center justify-center px-4",children:[(0,s.jsx)(i(),{id:"85b64a0ec41b8e79",dynamic:[l().style.fontFamily],children:"html{font-family:".concat(l().style.fontFamily,"}")}),(0,s.jsx)(c(),{children:(0,s.jsx)("link",{rel:"icon",href:u.Z.src,className:i().dynamic([["85b64a0ec41b8e79",[l().style.fontFamily]]])})}),(0,s.jsx)("div",{className:i().dynamic([["85b64a0ec41b8e79",[l().style.fontFamily]]])+" absolute top-0 flex w-full justify-center p-4",children:(0,s.jsxs)(m(),{href:"/",className:"flex items-center",children:[(0,s.jsx)(h(),{src:u.Z.src,alt:"harm",className:"size-12",draggable:!1,width:48,height:48}),(0,s.jsx)("h1",{className:i().dynamic([["85b64a0ec41b8e79",[l().style.fontFamily]]])+" ml-2 text-2xl font-bold",children:"harm.ro"})]})}),(0,s.jsx)("div",{className:i().dynamic([["85b64a0ec41b8e79",[l().style.fontFamily]]])+" rounded-lg border border-gray-900 bg-gray-950 px-5 py-12 md:px-12",children:t})]})}},43832:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(31134).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},15928:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(31134).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14805:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return _},default:function(){return N}});var s=n(85893),a=n(81617),l=n(99606),r=n(9008),i=n.n(r),o=n(41664),c=n.n(o),u=n(67294),d=n(44173),h=n(4298),f=n.n(h),m=n(11163),x=n(23200);function p(){return(0,s.jsx)("div",{className:"h-1 w-full rounded-lg bg-slate-900 bg-gradient-to-l from-slate-950/50"})}var y=n(31473),b=n(14640),j=n(80599);function g(e){let{open:t,setOpen:n}=e,[r,i]=(0,u.useState)(""),o=(0,b.useTranslations)();return(0,s.jsxs)(j.Z,{open:t,onClose:()=>{n(!1),i("")},title:o("Auth.ForgotPassword"),children:[(0,s.jsx)("p",{className:"mb-2",children:o("Auth.ForgotPasswordDescription")}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),fetch("/api/auth/forgot-password",{method:"POST",body:JSON.stringify({email:r}),headers:{"Content-Type":"application/json"}}).then(async e=>{let t=await e.json();if(!e.ok||200!==e.status)return d.Am.error(t.error||"Failed to send reset link");n(!1),d.Am.success(o("Auth.ResetLinkSent"))})},children:[(0,s.jsx)(a.Z,{type:"email",placeholder:o("Auth.EmailAddress"),required:!0,value:r,onChange:e=>i(e.target.value)}),(0,s.jsx)(l.Z,{type:"submit",className:"w-full",children:o("Actions.SendResetLink")})]})]})}function w(e){let{open:t,setOpen:n,email:r,password:i,captcha:o,nextUrl:c}=e,h=(0,b.useTranslations)(),[f,x]=(0,u.useState)(""),[p,y]=(0,u.useState)(!1),g=(0,m.useRouter)();return(0,s.jsx)(j.Z,{open:t,title:h("Settings.MFA.OTPCode"),onClose:()=>n(!1),children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),y(!0),fetch("/api/auth/login",{method:"POST",body:JSON.stringify({email:r,password:i,otp:f,captcha:o}),headers:{"Content-Type":"application/json"}}).then(async e=>{if(e.ok)window.turnstile.remove(),await g.push(c||"/dashboard");else{y(!1);let t=await e.json();d.Am.error(t.error)}})},children:[(0,s.jsx)(a.Z,{type:"tel",minLength:6,maxLength:6,pattern:"[0-9]{6}",autoFocus:!0,placeholder:"123456",required:!0,value:f,onChange:e=>x(e.target.value)}),(0,s.jsx)(l.Z,{type:"submit",className:"w-full",loading:p,children:h("Auth.Login")})]})})}var v=n(9315),_=!0;function N(e){let{discordAuthLink:t,nextUrl:n}=e,[r,o]=(0,u.useState)(""),[h,j]=(0,u.useState)(""),[v,_]=(0,u.useState)(""),[N,A]=(0,u.useState)(!1),[k,C]=(0,u.useState)(!1),[S,Z]=(0,u.useState)(!1),O=(0,m.useRouter)(),P=(0,b.useTranslations)();return(0,u.useEffect)(()=>(window.turnstileCallback=e=>_(e),window.turnstile&&(window.turnstile.remove(),window.turnstile.render(".cf-turnstile",{sitekey:"0x4AAAAAAAcD2Vri2zu5qsPx"})),()=>{window.turnstile&&window.turnstile.remove()}),[]),(0,s.jsxs)("div",{className:"py-4",children:[(0,s.jsx)(f(),{src:"https://challenges.cloudflare.com/turnstile/v0/api.js",async:!0,defer:!0}),(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"".concat(P("Auth.Login")," | harm.ro")})}),(0,s.jsx)("header",{className:"flex flex-col gap-4",children:(0,s.jsx)("h1",{className:"text-center text-2xl",children:P("Auth.LoginToYourAccount")})}),(0,s.jsx)("div",{className:"w-full py-4",children:(0,s.jsxs)("a",{href:t,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-[#5865F2] p-2",children:[(0,s.jsx)(y.Z,{}),P("Auth.LoginWithDiscord")]})}),(0,s.jsx)(p,{}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),Z(!0),fetch("/api/auth/login",{method:"POST",body:JSON.stringify({email:r,password:h,captcha:v}),headers:{"Content-Type":"application/json"}}).then(async e=>{if(e.ok)window.turnstile.remove(),await O.push(n||"/dashboard");else{let t=await e.json();if(Z(!1),"OTP required"===t.error)return A(!0);if("Account not verified"===t.error)return await O.push({pathname:"/auth/sent",query:{email:r}});d.Am.error(t.error)}})},className:"w-full p-4",children:[(0,s.jsx)(a.Z,{type:"email",name:"email",value:r,onChange:e=>o(e.target.value),placeholder:P("Auth.EmailAddress"),required:!0}),(0,s.jsxs)("div",{className:"w-auto pb-4",children:[(0,s.jsx)(x.Z,{name:"password",value:h,onChange:e=>j(e.target.value),required:!0,minLength:8}),(0,s.jsx)("span",{className:"flex justify-end text-gray-400",role:"button",onClick:()=>C(!0),children:P("Auth.ForgotPassword")})]}),(0,s.jsx)("div",{className:"mx-auto w-[300px]",children:(0,s.jsx)("div",{className:"cf-turnstile","data-sitekey":"0x4AAAAAAAcD2Vri2zu5qsPx","data-callback":"turnstileCallback"})}),(0,s.jsx)(l.Z,{type:"submit",className:"w-full",loading:S,disabled:!v,children:P("Auth.Login")})]}),(0,s.jsxs)("div",{className:"text-center",children:[P("Auth.NewTo")," ",(0,s.jsx)(c(),{href:"/auth/register",children:P("Auth.CreateAccount")})]}),(0,s.jsx)(w,{open:N,setOpen:A,email:r,password:h,captcha:v,nextUrl:n}),(0,s.jsx)(g,{open:k,setOpen:C})]})}N.getLayout=e=>(0,s.jsx)(v.Z,{children:e})},6166:function(e){e.exports={style:{fontFamily:"'__Nunito_6db340', '__Nunito_Fallback_6db340'",fontStyle:"normal"},className:"__className_6db340"}},66461:function(e){e.exports={content:"modal_content__lkt8T",overlay:"modal_overlay__hwAqk",afterOpen:"modal_afterOpen__5sRbx",beforeClose:"modal_beforeClose__scWAC",lightboxContent:"modal_lightboxContent__VRkSV",lightboxActions:"modal_lightboxActions__5Nlr9",lightboxImage:"modal_lightboxImage__WerCz",lightboxImageContainer:"modal_lightboxImageContainer___s9zz"}}},function(e){e.O(0,[212,3253,8388,2697,2888,9774,179],function(){return e(e.s=40163)}),_N_E=e.O()}]);